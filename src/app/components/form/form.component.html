@if (product$ | async; as product) {
<form [formGroup]="form">
    <mat-card appearance="outlined" class="form">
        <mat-form-field class="example-form-field">
            <mat-label>Name</mat-label>
            <input matInput type="text" formControlName="name">
        </mat-form-field>
        <mat-form-field class="example-form-field">
            <mat-label>Description</mat-label>
            <textarea matInput type="text" formControlName="description">
            </textarea>
        </mat-form-field>
        <mat-form-field class="example-form-field">
            <mat-label>SKU</mat-label>
            <input matInput type="text" formControlName="sku">
        </mat-form-field>
        <mat-form-field class="example-form-field">
            <mat-label>Cost</mat-label>
            <input matInput type="number" formControlName="cost">
        </mat-form-field>

        <div class="form-profile-fields" formGroupName="profile">
            <mat-form-field class="example-form-field">
                <mat-label>type</mat-label>
                <mat-select formControlName="type">
                    @for(profileType of profileTypes; track profileType){
                    <mat-option [value]="profileType"> {{profileType}} </mat-option>
                    }
                </mat-select>
            </mat-form-field>
            <mat-form-field class="example-form-field">
                <mat-label>available</mat-label>
                <mat-select formControlName="available">
                    <mat-option [value]="true">true</mat-option>
                    <mat-option [value]="false">false</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="example-form-field">
                <mat-label>backlog</mat-label>
                <input matInput type="number" formControlName="backlog">
            </mat-form-field>
        </div>

        <div class="buttons">
            <button mat-stroked-button (click)="editProduct(product.id)">Save</button>
            <button mat-stroked-button color="warn" (click)="deleteProduct(product.id)">Delete</button>
        </div>
        <button mat-mini-fab class="form-close-icon" (click)="closeDialog()">
            <mat-icon>close</mat-icon>
        </button>
    </mat-card>
</form>
}